angular.module("angular-scrolled",[]).directive("scrolled",["$window",function(a){return{link:function(b,c,d){var e=parseInt(d.scrolledThreshold)||0,f=b.$eval(d.scrolledWindow)||!1,g=d.scrolledEnabled?b.$eval(d.scrolledEnabled):!0,h=f?angular.element(a):c,i=f?function(){var b=document.documentElement;return g&&b.offsetHeight-a.innerHeight-(a.pageYOffset-(b.clientTop||0))<=e}:function(){var a=c[0];return g&&a.scrollTop+a.offsetHeight>=a.scrollHeight-e},j=function(){i()&&b.$apply(d.scrolled)};h.on("scroll",j),d.$observe("scrolledThreshold",function(a){e=parseInt(a)||0}),d.$observe("scrolledEnabled",function(a){g=b.$eval(a)}),b.$on("$destroy",function(){h.off("scroll",j)})}}}]);