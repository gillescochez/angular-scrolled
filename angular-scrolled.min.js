angular.module("angular-scrolled",[]).directive("scrolled",["$window",function(a){return{link:function(b,c,d){var e=d.scrolledDirection||"vertical",f=parseInt(d.scrolledThreshold)||0,g=b.$eval(d.scrolledWindow)||!1,h=d.scrolledEnabled?b.$eval(d.scrolledEnabled):!0,i=g?angular.element(a):c,j=g?function(){var b=document.documentElement;return"vertical"===e?h&&b.offsetHeight-a.innerHeight-(a.pageYOffset-(b.clientTop||0))<=f:h&&b.offsetWidth-a.innerWidth-(a.pageXOffset-(b.clientLeft||0))<=f}:function(){var a=c[0];return"vertical"===e?h&&a.scrollTop+a.offsetHeight>=a.scrollHeight-f:h&&a.scrollLeft+a.offsetWidth>=a.scrollWidth-f},k=function(){j()&&b.$apply(d.scrolled)};i.on("scroll",k),d.$observe("scrolledThreshold",function(a){f=parseInt(a)||0}),d.$observe("scrolledEnabled",function(a){h=b.$eval(a)}),d.$observe("scrolledDirection",function(a){e=a}),b.$on("$destroy",function(){i.off("scroll",k)})}}}]);